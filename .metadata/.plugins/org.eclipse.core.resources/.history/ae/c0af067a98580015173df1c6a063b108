class CreateFormsPunchlistFormsView < ActiveRecord::Migration
  def up
    create_view :forms_punchlist_forms_view, 
      'SELECT 
        `forms_punchlist_forms`.`id` AS `id`,
        `forms_punchlist_forms`.`reference_number` AS `reference_number`,
        `forms_punchlist_forms`.`server_receive_date` AS `server_receive_date`,
        `forms_punchlist_forms`.`device_submit_date` AS `device_submit_date`,
        `forms_punchlist_forms`.`username` AS `username`,
        `forms_punchlist_forms`.`version` AS `version`,
        `forms_punchlist_forms`.`altitude` AS `altitude`,
        `forms_punchlist_forms`.`latitude` AS `latitude`,
        `forms_punchlist_forms`.`longitude` AS `longitude`,
        `forms_punchlist_forms`.`source` AS `source`,
        `forms_punchlist_forms`.`file_path` AS `file_path`,
        `forms_punchlist_forms`.`customer` AS `customer`,
        `forms_punchlist_forms`.`shop` AS `shop`,
        `forms_punchlist_forms`.`project_area` AS `project_area`,
        `forms_punchlist_forms`.`level` AS `level`,
        `forms_punchlist_forms`.`column_location` AS `column_location`,
        `forms_punchlist_forms`.`els_number` AS `els_number`,
        `forms_punchlist_forms`.`task_description` AS `task_description`,
        `forms_punchlist_forms`.`bmw_comment` AS `bmw_comment`,
        `forms_punchlist_forms`.`responsible` AS `responsible`,
        `forms_punchlist_forms`.`picture1_file_name` AS `picture1_file_name`,
        `forms_punchlist_forms`.`picture1_content_type` AS `picture1_content_type`,
        `forms_punchlist_forms`.`picture1_file_size` AS `picture1_file_size`,
        `forms_punchlist_forms`.`picture1_updated_at` AS `picture1_updated_at`,
        `forms_punchlist_forms`.`picture2_file_name` AS `picture2_file_name`,
        `forms_punchlist_forms`.`picture2_content_type` AS `picture2_content_type`,
        `forms_punchlist_forms`.`picture2_file_size` AS `picture2_file_size`,
        `forms_punchlist_forms`.`picture2_updated_at` AS `picture2_updated_at`,
        `forms_punchlist_forms`.`picture3_file_name` AS `picture3_file_name`,
        `forms_punchlist_forms`.`picture3_content_type` AS `picture3_content_type`,
        `forms_punchlist_forms`.`picture3_file_size` AS `picture3_file_size`,
        `forms_punchlist_forms`.`picture3_updated_at` AS `picture3_updated_at`,
        `forms_punchlist_forms`.`picture4_file_name` AS `picture4_file_name`,
        `forms_punchlist_forms`.`picture4_content_type` AS `picture4_content_type`,
        `forms_punchlist_forms`.`picture4_file_size` AS `picture4_file_size`,
        `forms_punchlist_forms`.`picture4_updated_at` AS `picture4_updated_at`,
        `forms_punchlist_forms`.`picture5_file_name` AS `picture5_file_name`,
        `forms_punchlist_forms`.`picture5_content_type` AS `picture5_content_type`,
        `forms_punchlist_forms`.`picture5_file_size` AS `picture5_file_size`,
        `forms_punchlist_forms`.`picture5_updated_at` AS `picture5_updated_at`,
        `forms_punchlist_forms`.`picture6_file_name` AS `picture6_file_name`,
        `forms_punchlist_forms`.`picture6_content_type` AS `picture6_content_type`,
        `forms_punchlist_forms`.`picture6_file_size` AS `picture6_file_size`,
        `forms_punchlist_forms`.`picture6_updated_at` AS `picture6_updated_at`,
        `forms_punchlist_forms`.`picture7_file_name` AS `picture7_file_name`,
        `forms_punchlist_forms`.`picture7_content_type` AS `picture7_content_type`,
        `forms_punchlist_forms`.`picture7_file_size` AS `picture7_file_size`,
        `forms_punchlist_forms`.`picture7_updated_at` AS `picture7_updated_at`,
        `forms_punchlist_forms`.`picture8_file_name` AS `picture8_file_name`,
        `forms_punchlist_forms`.`picture8_content_type` AS `picture8_content_type`,
        `forms_punchlist_forms`.`picture8_file_size` AS `picture8_file_size`,
        `forms_punchlist_forms`.`picture8_updated_at` AS `picture8_updated_at`,
        `forms_punchlist_forms`.`submission_file_name` AS `submission_file_name`,
        `forms_punchlist_forms`.`submission_content_type` AS `submission_content_type`,
        `forms_punchlist_forms`.`submission_file_size` AS `submission_file_size`,
        `forms_punchlist_forms`.`submission_updated_at` AS `submission_updated_at`,
        `forms_punchlist_forms`.`status` AS `status`,
        `forms_punchlist_forms`.`created_at` AS `created_at`,
        `forms_punchlist_forms`.`updated_at` AS `updated_at`,
        CONCAT(\'http://formdata.robinsonsolutions.com/forms/punchlist_forms/\',
                `forms_punchlist_forms`.`id`) AS `id_url`
    FROM
        `forms_punchlist_forms`'
  end
  
  def down
    drop_view :forms_punchlist_forms_view, :if_exists => true
  end
end
